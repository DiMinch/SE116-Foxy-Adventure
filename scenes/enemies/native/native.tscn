[gd_scene load_steps=25 format=3 uid="uid://dmhy6uiu3m6qb"]

[ext_resource type="Script" uid="uid://y5l1mvysh22g" path="res://scenes/enemies/native/native.gd" id="1_pe3bm"]
[ext_resource type="Texture2D" uid="uid://dot0lnnowga21" path="res://assets/monsters/native/native_8.png" id="2_1461y"]
[ext_resource type="Texture2D" uid="uid://cl5sunmnaybjx" path="res://assets/monsters/native/native_9.png" id="3_d4u6i"]
[ext_resource type="Texture2D" uid="uid://wii5q2h3epyk" path="res://assets/monsters/native/native_10.png" id="4_rpxsc"]
[ext_resource type="Texture2D" uid="uid://c3185vhgkxgao" path="res://assets/monsters/native/native_11.png" id="5_mflj3"]
[ext_resource type="Texture2D" uid="uid://de81hcjyejowl" path="res://assets/monsters/native/native_6.png" id="6_o8aiu"]
[ext_resource type="Texture2D" uid="uid://bpmgc8serv8w0" path="res://assets/monsters/native/native_7.png" id="7_i1fqc"]
[ext_resource type="Texture2D" uid="uid://dps8ln8cdg0hr" path="res://assets/monsters/native/native_1.png" id="8_4wv6r"]
[ext_resource type="Texture2D" uid="uid://b5qqi5vtsf27t" path="res://assets/monsters/native/native_2.png" id="9_nraa6"]
[ext_resource type="Texture2D" uid="uid://cfv58wjuhukk6" path="res://assets/monsters/native/native_3.png" id="10_gwcqi"]
[ext_resource type="Texture2D" uid="uid://01yf83ioyll1" path="res://assets/monsters/native/native_4.png" id="11_tglhi"]
[ext_resource type="Texture2D" uid="uid://l54h47f8tl6u" path="res://assets/monsters/native/native_5.png" id="12_o2ypj"]
[ext_resource type="PackedScene" uid="uid://ct1tqxgwkuvbe" path="res://scripts/collision/hurt_area_2d.tscn" id="13_ln74m"]
[ext_resource type="Script" uid="uid://c1lgf5lgnrcat" path="res://scripts/factories/node2d_factory.gd" id="14_x4alf"]
[ext_resource type="Script" uid="uid://bwbpimr1hnna3" path="res://scenes/enemies/native/states/run.gd" id="15_5aqtg"]
[ext_resource type="PackedScene" uid="uid://ckopvoukwn82s" path="res://scenes/enemies/native/bullet/coconut.tscn" id="15_1461y"]
[ext_resource type="Script" uid="uid://b0ih6rf0eu1ok" path="res://scenes/enemies/native/states/attack.gd" id="16_gtspd"]
[ext_resource type="Script" uid="uid://8l2mblqoihis" path="res://scenes/enemies/states/hurt.gd" id="18_1461y"]
[ext_resource type="Script" uid="uid://bvwi4xbmxvqw3" path="res://scenes/enemies/native/dead.gd" id="19_mflj3"]
[ext_resource type="AudioStream" uid="uid://c5ryv334sivsf" path="res://assets/audio/sfx/player/player_walk.wav" id="20_rpxsc"]
[ext_resource type="PackedScene" uid="uid://brydasimv17q6" path="res://scenes/ui/hp_bar/hp_minions/EnemyHpBar_Minions.tscn" id="21_mflj3"]

[sub_resource type="SpriteFrames" id="SpriteFrames_kn7eo"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_1461y")
}, {
"duration": 1.0,
"texture": ExtResource("3_d4u6i")
}, {
"duration": 1.0,
"texture": ExtResource("4_rpxsc")
}, {
"duration": 1.0,
"texture": ExtResource("5_mflj3")
}],
"loop": false,
"name": &"attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_o8aiu")
}],
"loop": false,
"name": &"dead",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_o8aiu")
}, {
"duration": 1.0,
"texture": ExtResource("7_i1fqc")
}],
"loop": true,
"name": &"hurt",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_4wv6r")
}, {
"duration": 1.0,
"texture": ExtResource("9_nraa6")
}, {
"duration": 1.0,
"texture": ExtResource("10_gwcqi")
}, {
"duration": 1.0,
"texture": ExtResource("11_tglhi")
}, {
"duration": 1.0,
"texture": ExtResource("12_o2ypj")
}],
"loop": true,
"name": &"run",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_20un1"]
size = Vector2(41, 29)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5sc63"]
size = Vector2(35, 21)

[node name="Native" type="CharacterBody2D"]
collision_layer = 8
script = ExtResource("1_pe3bm")
metadata/_custom_type_script = "uid://s4xx82espxdt"

[node name="Direction" type="Node2D" parent="."]

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Direction"]
sprite_frames = SubResource("SpriteFrames_kn7eo")
animation = &"attack"
frame = 3
frame_progress = 1.0

[node name="FrontRayCast2D" type="RayCast2D" parent="Direction"]
target_position = Vector2(30, 0)

[node name="DownRayCast2D" type="RayCast2D" parent="Direction"]
position = Vector2(15, -2)
target_position = Vector2(0, 22)

[node name="HurtArea2D" parent="Direction" instance=ExtResource("13_ln74m")]
collision_layer = 16
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Direction/HurtArea2D"]
position = Vector2(-0.5, -2.5)
shape = SubResource("RectangleShape2D_20un1")

[node name="Node2DFactory" type="Marker2D" parent="Direction"]
script = ExtResource("14_x4alf")
product_packed_scene = ExtResource("15_1461y")
target_container_name = &"Bullets"
target_container_path = NodePath(".")
metadata/_custom_type_script = "uid://c1lgf5lgnrcat"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0.5, 0.5)
shape = SubResource("RectangleShape2D_5sc63")

[node name="States" type="Node" parent="."]

[node name="Run" type="Node" parent="States"]
script = ExtResource("15_5aqtg")

[node name="Attack" type="Node" parent="States"]
script = ExtResource("16_gtspd")

[node name="Hurt" type="Node" parent="States"]
script = ExtResource("18_1461y")

[node name="Dead" type="Node" parent="States"]
script = ExtResource("19_mflj3")
metadata/_custom_type_script = "uid://ju0y5m1uk1yi"

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("20_rpxsc")
max_distance = 300.0
attenuation = 0.2
bus = &"SFX"

[node name="EnemyHpBarMinions" parent="." instance=ExtResource("21_mflj3")]

[connection signal="hurt" from="Direction/HurtArea2D" to="." method="_on_hurt_area_2d_hurt"]
