[gd_scene load_steps=15 format=3 uid="uid://dn3a7knx6ld0t"]

[ext_resource type="Script" uid="uid://beyfewxe4fg4e" path="res://scenes/enemies/turtle/turtle.gd" id="1_3xsye"]
[ext_resource type="Texture2D" uid="uid://dlj776gx12cyt" path="res://assets/monsters/turtle/turtle_blue_01.png" id="2_ttgbu"]
[ext_resource type="Texture2D" uid="uid://b3kdaawt5fksa" path="res://assets/monsters/turtle/turtle_blue_02.png" id="3_8py4k"]
[ext_resource type="Texture2D" uid="uid://vip534rthk0" path="res://assets/monsters/turtle/turtle_blue_03.png" id="4_3tpwr"]
[ext_resource type="Texture2D" uid="uid://eauicsmv8dat" path="res://assets/monsters/turtle/turtle_blue_04.png" id="5_is8ke"]
[ext_resource type="Texture2D" uid="uid://gpaq440tl8l5" path="res://assets/monsters/turtle/turtle_blue_05.png" id="6_2d2ji"]
[ext_resource type="Texture2D" uid="uid://c68ghrsqlqvkj" path="res://assets/monsters/turtle/turtle_blue_walk_01.png" id="7_75qw4"]
[ext_resource type="Texture2D" uid="uid://dlb8h7ibkodp8" path="res://assets/monsters/turtle/turtle_blue_walk_02.png" id="8_cvcit"]
[ext_resource type="PackedScene" uid="uid://cbjbo6gtyss6f" path="res://scripts/collision/hit_area_2d.tscn" id="9_g5ys5"]
[ext_resource type="Script" uid="uid://bxgbgd1plvcwq" path="res://scenes/enemies/turtle/states/run.gd" id="10_qbokc"]
[ext_resource type="Script" uid="uid://doirwlb7sbrbc" path="res://scenes/enemies/turtle/states/into_shell.gd" id="11_r4cnp"]

[sub_resource type="SpriteFrames" id="SpriteFrames_rb3tl"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_ttgbu")
}, {
"duration": 1.0,
"texture": ExtResource("3_8py4k")
}, {
"duration": 1.0,
"texture": ExtResource("4_3tpwr")
}, {
"duration": 1.0,
"texture": ExtResource("5_is8ke")
}, {
"duration": 1.0,
"texture": ExtResource("6_2d2ji")
}],
"loop": true,
"name": &"into_shell",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_75qw4")
}, {
"duration": 1.0,
"texture": ExtResource("8_cvcit")
}],
"loop": true,
"name": &"run",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6n41o"]
size = Vector2(30, 22)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ljyfn"]
size = Vector2(24, 19)

[node name="Turtle" type="CharacterBody2D"]
collision_layer = 8
script = ExtResource("1_3xsye")
max_health = null
movement_speed = null
gravity = null
attack_damage = null
direction = null
metadata/_custom_type_script = "uid://s4xx82espxdt"

[node name="Direction" type="Node2D" parent="."]

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Direction"]
sprite_frames = SubResource("SpriteFrames_rb3tl")
animation = &"into_shell"

[node name="FrontRayCast2D" type="RayCast2D" parent="Direction"]
target_position = Vector2(23, 0)

[node name="DownRayCast2D" type="RayCast2D" parent="Direction"]
position = Vector2(13, 0)
target_position = Vector2(0, 23)

[node name="HitArea2D" parent="Direction" instance=ExtResource("9_g5ys5")]
collision_layer = 32
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Direction/HitArea2D"]
position = Vector2(0, 4)
shape = SubResource("RectangleShape2D_6n41o")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 5)
shape = SubResource("RectangleShape2D_ljyfn")

[node name="States" type="Node" parent="."]

[node name="Run" type="Node" parent="States"]
script = ExtResource("10_qbokc")

[node name="IntoShell" type="Node" parent="States"]
script = ExtResource("11_r4cnp")
